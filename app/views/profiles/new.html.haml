.register
  = render partial: 'shared/menu'
  .registerWrap
    .register__content
      .register__error
        = render partial: 'shared/error_messages', locals: {model: @profile}
      .register__heading
        = icon 'fas', 'folder-plus'
        = 'プロフィール作成'
      = form_with model: @profile, local: true, class: :register__form do |form|
        %table
          %tr
            %th 都道府県
            %td= form.select :prefecture, Profile.prefectures.keys, {prompt: '選択してください'}, class: :register__text
          %tr
            %th 主旨
            %td= form.text_area :introduction, class: :'register__text register__text--area', id: :section_gist
          %tr
            %th.register__count
            %td.register__count#gist-count
              = @profile.persisted? && @profile.introduction? ? "#{@profile.introduction.length}/1000" : "0/1000"
        .register__submit
          = form.submit '登録する', class: :'register__submit--btn'
    = render partial: 'shared/side'
